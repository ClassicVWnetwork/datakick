const request=require("request"),querystring=require("querystring"),fs=require("fs"),host="https://www.datakick.org",version="1";function item(a){return new Promise((b,c)=>a?void request(`${host}/api/items/${a}?version=${version}`,function(a,d,e){return a?c(a):void b(JSON.parse(e))}):c(new ReferenceError("No GTIN or EAN specified")))}function update(a,b){return new Promise((c,d)=>a?void request.put({url:`${host}/api/items/${a}?version=${version}`,form:b},function(a,b,e){return a?d(a):void c(JSON.parse(e))}):d(new ReferenceError("No GTIN or EAN specified")))}function add(a,b){return new Promise((c,d)=>a?void item(a).then(function(e){"undefined"==typeof e.message?d(new Error("The item does already exist!")):request.put({url:`${host}/api/items/${a}?version=${version}`,form:b},function(a,b,e){return a?d(a):void c(JSON.parse(e))})}):d(new ReferenceError("No GTIN or EAN specified")))}function list(){return new Promise((a,b)=>{request(`${host}/api/items/?version=${version}`,function(c,d,e){return c?b(c):void a(JSON.parse(e))})})}function page(a){return new Promise((b,c)=>a?void request(`${host}/api/items/?page=${a}&version=${version}`,function(a,d,e){return a?c(a):void b(JSON.parse(e))}):c(new ReferenceError("No page specified")))}function query(a){const b=querystring.stringify({query:a,version:`${version}`});return new Promise((c,d)=>a?void request(`${host}/api/items/?${b}`,function(a,b,e){return a?d(a):void c(JSON.parse(e))}):d(new ReferenceError("No query specified")))}function image(a,b){return new Promise((c,d)=>fs.existsSync(b)?void request.post({url:`${host}/api/items/${a}/images/?version=${version}`,headers:{"Content-Type":"multipart/form-data"},formData:{image:fs.createReadStream(b)}},function(a,b,e){return a?d(a):void c(JSON.parse(e))}):d("The image does not exist!"))}exports.item=item,exports.update=update,exports.add=add,exports.list=list,exports.page=page,exports.query=query,exports.image=image;